---
title: "Regression model summary from `{easystats}`"
output: 
  flexdashboard::flex_dashboard:
    theme:
      version: 4
      # bg: "#101010"
      # fg: "#FDF7F7" 
      primary: "#0054AD"
      base_font:
        google: Prompt
      code_font:
        google: JetBrains Mono
params:
  model: model
  ci: ci
  ci_method: ci_method
  ci_random: ci_random
  standardize: standardize
  exponentiate: exponentiate
  vcov: vcov
  vcov_args: vcov_args
---

```{r setup, include=FALSE}
library(flexdashboard)
library(easystats)

knitr::opts_chunk$set(
  error = TRUE,
  out.width = "100%"
)
```

```{r}
# Get user-specified model data
model <- params$model
ci <- params$ci
ci_method <- params$ci_method
ci_random <- params$ci_random
standardize <- params$standardize
exponentiate <- params$exponentiate
vcov <- params$vcov
vcov_args <- params$vcov_args


table_parameters <- parameters(
  model, 
  ci = ci,
  ci_method = ci_method,
  ci_random = ci_random,
  exponentiate = exponentiate,
  standardize = standardize,
  vcov = vcov,
  vcov_args = vcov_args
)

table_performance <- performance(model)



text_report <- report(model)
```

Model fit 
=====================================  

Column {data-width=700}
-----------------------------------------------------------------------

### Assumption checks

```{r check-model, fig.height=11, fig.width=9, out.width="90%"}
check_model(model)
```

Column {data-width=300}
-----------------------------------------------------------------------

### Indices of model fit

```{r}
print(table_performance, layout = "vertical")
```

Parameter estimates
=====================================  

Column {data-width=550}
-----------------------------------------------------------------------

### Plot

```{r dot-whisker}
plot(table_parameters)
```

Column {data-width=450}
-----------------------------------------------------------------------

### Tabular summary

```{r}
table_parameters
```

Extra {data-orientation=rows}
=====================================    

### Textual summary

```{r}
text_report
```

