<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Analytic workflow: A complete workflow using easystats • easystats</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<!-- katex math --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script><script src="../katex-auto.js"></script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet">
<link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet">
<link href="../deps/Roboto_Slab-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Analytic workflow: A complete workflow using easystats">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">easystats</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.4.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html" aria-label="Reference"><span class="fa fa-file-code"></span> Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html" aria-label="Articles"><span class="fa fa-book-reader"></span> Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html" aria-label="News"><span class="fa fa-newspaper"></span> News</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-easystats" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="easystats"><span class="fa fab fa-r-project"></span> easystats</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-easystats">
<li><a class="external-link dropdown-item" href="https://easystats.github.io/bayestestR/">bayestestR</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/correlation/">correlation</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/datawizard/">datawizard</a></li>
    <li><a class="dropdown-item" href="https://easystats.github.io/easystats/">easystats</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/effectsize/">effectsize</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/insight/">insight</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/modelbased/">modelbased</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/performance/">performance</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/parameters/">parameters</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/report/">report</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/see/">see</a></li>
  </ul>
</li>
<li class="nav-item"><a class="external-link nav-link" href="http://twitter.com/easystats4u" aria-label="Twitter"><span class="fa fa-twitter"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/easystats/easystats/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Analytic workflow: A complete workflow using easystats</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/easystats/easystats/blob/main/vignettes/workflow_easystats.Rmd" class="external-link"><code>vignettes/workflow_easystats.Rmd</code></a></small>
      <div class="d-none name"><code>workflow_easystats.Rmd</code></div>
    </div>

    
    
<p>This vignette demonstrates a typical workflow using
<em>easystats</em> packages, with a logistic regression model as an
example. We will explore various aspects of the model, such as model
coefficients, model fit, predictions, and pairwise comparisons. Let’s
get started!</p>
<div class="section level2">
<h2 id="preparing-the-data">Preparing the data<a class="anchor" aria-label="anchor" href="#preparing-the-data"></a>
</h2>
<p>The very first step is usually importing and preparing some data
(recoding, re-shaping data and so on - the usual data wrangling tasks),
which is easily done using the <strong>datawizard</strong> package. In
this example, we use <em>datawizard</em> only for some minor recodings.
The <code>coffee_data</code> data set is included in the
<em>modelbased</em> package. The data set contains information on the
effect of coffee consumption on alertness over time. The outcome
variable is binary (alertness), and the predictor variables are coffee
consumption (treatment) and time.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://easystats.github.io/datawizard/" class="external-link">datawizard</a></span><span class="op">)</span> <span class="co"># for data management, e.g. recodings</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">coffee_data</span>, package <span class="op">=</span> <span class="st">"modelbased"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># dichotomize outcome variable</span></span>
<span><span class="va">coffee_data</span><span class="op">$</span><span class="va">alertness</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://easystats.github.io/datawizard/reference/categorize.html" class="external-link">categorize</a></span><span class="op">(</span><span class="va">coffee_data</span><span class="op">$</span><span class="va">alertness</span>, lowest <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="co"># rename variable</span></span>
<span><span class="va">coffee_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://easystats.github.io/datawizard/reference/data_rename.html" class="external-link">data_rename</a></span><span class="op">(</span><span class="va">coffee_data</span>, select <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>treatment <span class="op">=</span> <span class="st">"coffee"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="sample-description">Sample description<a class="anchor" aria-label="anchor" href="#sample-description"></a>
</h2>
<p>In a next step, it might make sense to look at the data. E.g., a
frequency table using <code><a href="https://easystats.github.io/datawizard/reference/data_tabulate.html" class="external-link">data_tabulate()</a></code>, or a description of
the most important sample characteristics using
<code><a href="https://easystats.github.io/report/reference/report_sample.html" class="external-link">report_sample()</a></code>. The latter is usually already a table
shown in publications.</p>
<p>Functions to create descriptive tables or text reports are located in
the <strong>datawizard</strong> and <strong>report</strong>
packages.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://easystats.github.io/report/" class="external-link">report</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Frequency table</span></span>
<span><span class="fu"><a href="https://easystats.github.io/datawizard/reference/data_tabulate.html" class="external-link">data_tabulate</a></span><span class="op">(</span><span class="va">coffee_data</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"treatment"</span>, <span class="st">"time"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; treatment (treatment) &lt;categorical&gt;</span></span>
<span><span class="co">#&gt; # total N=120 valid N=120</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Value   |  N | Raw % | Valid % | Cumulative %</span></span>
<span><span class="co">#&gt; --------+----+-------+---------+-------------</span></span>
<span><span class="co">#&gt; coffee  | 60 | 50.00 |   50.00 |        50.00</span></span>
<span><span class="co">#&gt; control | 60 | 50.00 |   50.00 |       100.00</span></span>
<span><span class="co">#&gt; &lt;NA&gt;    |  0 |  0.00 |    &lt;NA&gt; |         &lt;NA&gt;</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; time (time) &lt;categorical&gt;</span></span>
<span><span class="co">#&gt; # total N=120 valid N=120</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Value     |  N | Raw % | Valid % | Cumulative %</span></span>
<span><span class="co">#&gt; ----------+----+-------+---------+-------------</span></span>
<span><span class="co">#&gt; morning   | 40 | 33.33 |   33.33 |        33.33</span></span>
<span><span class="co">#&gt; noon      | 40 | 33.33 |   33.33 |        66.67</span></span>
<span><span class="co">#&gt; afternoon | 40 | 33.33 |   33.33 |       100.00</span></span>
<span><span class="co">#&gt; &lt;NA&gt;      |  0 |  0.00 |    &lt;NA&gt; |         &lt;NA&gt;</span></span>
<span></span>
<span><span class="co"># Cross table</span></span>
<span><span class="fu"><a href="https://easystats.github.io/datawizard/reference/data_tabulate.html" class="external-link">data_tabulate</a></span><span class="op">(</span><span class="va">coffee_data</span>, <span class="st">"treatment"</span>, by <span class="op">=</span> <span class="st">"time"</span><span class="op">)</span></span>
<span><span class="co">#&gt; treatment | morning | noon | afternoon | &lt;NA&gt; | Total</span></span>
<span><span class="co">#&gt; ----------+---------+------+-----------+------+------</span></span>
<span><span class="co">#&gt; coffee    |      20 |   20 |        20 |    0 |    60</span></span>
<span><span class="co">#&gt; control   |      20 |   20 |        20 |    0 |    60</span></span>
<span><span class="co">#&gt; &lt;NA&gt;      |       0 |    0 |         0 |    0 |     0</span></span>
<span><span class="co">#&gt; ----------+---------+------+-----------+------+------</span></span>
<span><span class="co">#&gt; Total     |      40 |   40 |        40 |    0 |   120</span></span>
<span></span>
<span><span class="co"># Sample description</span></span>
<span><span class="fu"><a href="https://easystats.github.io/report/reference/report_sample.html" class="external-link">report_sample</a></span><span class="op">(</span></span>
<span>  <span class="va">coffee_data</span>,</span>
<span>  by <span class="op">=</span> <span class="st">"treatment"</span>,</span>
<span>  select <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"alertness"</span>, <span class="st">"time"</span><span class="op">)</span>,</span>
<span>  ci <span class="op">=</span> <span class="fl">0.95</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; # Descriptive Statistics</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Variable            |     coffee (n=60) |    control (n=60) |     Total (n=120)</span></span>
<span><span class="co">#&gt; -------------------------------------------------------------------------------</span></span>
<span><span class="co">#&gt; Mean alertness (SD) |       0.53 (0.50) |       0.47 (0.50) |       0.50 (0.50)</span></span>
<span><span class="co">#&gt; time [morning], %   | 33.3 [22.7, 45.9] | 33.3 [22.7, 45.9] | 33.3 [25.5, 42.2]</span></span>
<span><span class="co">#&gt; time [noon], %      | 33.3 [22.7, 45.9] | 33.3 [22.7, 45.9] | 33.3 [25.5, 42.2]</span></span>
<span><span class="co">#&gt; time [afternoon], % | 33.3 [22.7, 45.9] | 33.3 [22.7, 45.9] | 33.3 [25.5, 42.2]</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="fitting-and-exploring-the-model---model-coefficients">Fitting and exploring the model - model coefficients<a class="anchor" aria-label="anchor" href="#fitting-and-exploring-the-model---model-coefficients"></a>
</h2>
<p>Let’s start by fitting an example model and examining the model
coefficients. The package that manages everything related to model
coefficients is the <strong>parameters</strong> package. We can use the
<code><a href="https://easystats.github.io/parameters/reference/model_parameters.html" class="external-link">model_parameters()</a></code> function to extract the coefficients
from the model. By setting <code>exponentiate = TRUE</code>, we can
obtain the odds ratios for the coefficients.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://easystats.github.io/parameters/" class="external-link">parameters</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># model</span></span>
<span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="va">alertness</span> <span class="op">~</span> <span class="va">treatment</span> <span class="op">*</span> <span class="va">time</span>, data <span class="op">=</span> <span class="va">coffee_data</span>, family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html" class="external-link">binomial</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># coefficients</span></span>
<span><span class="fu"><a href="https://easystats.github.io/parameters/reference/model_parameters.html" class="external-link">model_parameters</a></span><span class="op">(</span><span class="va">model</span>, exponentiate <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Parameter                              | Odds Ratio |   SE |        95% CI |         z |      p</span></span>
<span><span class="co">#&gt; -----------------------------------------------------------------------------------------------</span></span>
<span><span class="co">#&gt; (Intercept)                            |       1.00 | 0.45 | [0.41,  2.44] | -1.54e-15 | &gt; .999</span></span>
<span><span class="co">#&gt; treatment [control]                    |       0.33 | 0.23 | [0.08,  1.23] |     -1.61 | 0.108 </span></span>
<span><span class="co">#&gt; time [noon]                            |       0.54 | 0.35 | [0.15,  1.90] |     -0.96 | 0.339 </span></span>
<span><span class="co">#&gt; time [afternoon]                       |       3.00 | 2.05 | [0.81, 12.24] |      1.61 | 0.108 </span></span>
<span><span class="co">#&gt; treatment [control] × time [noon]      |      10.35 | 9.85 | [1.66, 70.73] |      2.45 | 0.014 </span></span>
<span><span class="co">#&gt; treatment [control] × time [afternoon] |       1.00 | 0.97 | [0.15,  6.74] | -6.10e-16 | &gt; .999</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Uncertainty intervals (profile-likelihood) and p-values (two-tailed) computed using a Wald z-distribution approximation.</span></span></code></pre></div>
<p>The model coefficients are difficult to interpret directly, in
particular since we have an interaction effect. Instead, we should use
the <em>modelbased</em> package to calculate adjusted predictions for
the model. But before we do that, we want to know more about the model
quality.</p>
</div>
<div class="section level2">
<h2 id="assessing-model-fit">Assessing model fit<a class="anchor" aria-label="anchor" href="#assessing-model-fit"></a>
</h2>
<p>Now that we have a first impression our model, it is time to ask
whether we have a good or bad model fit and check our model assumptions.
Inspecting model quality and fit indices is supported by the
<strong>performance</strong> package. A useful function to do so is
<code><a href="https://easystats.github.io/performance/reference/check_model.html" class="external-link">check_model()</a></code>, which gives a graphical summary of several
important model checks.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://easystats.github.io/performance/" class="external-link">performance</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># checking model assunptions</span></span>
<span><span class="fu"><a href="https://easystats.github.io/performance/reference/check_model.html" class="external-link">check_model</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span></code></pre></div>
<p><img src="workflow_easystats_files/figure-html/unnamed-chunk-4-1.png" width="3000"></p>
<p>The plot looks good - we don’t seem to have concerning issues. If you
want to learn more about interpreting these plots, <a href="https://easystats.github.io/performance/articles/check_model.html" class="external-link">check
out this vignette</a>. Read <a href="https://easystats.github.io/easystats/articles/workflow_performance.html">this
vignette</a> if you want to learn more about how to <em>improve</em>
your models.</p>
</div>
<div class="section level2">
<h2 id="predicted-probabilities---understanding-the-model">Predicted probabilities - understanding the model<a class="anchor" aria-label="anchor" href="#predicted-probabilities---understanding-the-model"></a>
</h2>
<p>As we mentioned above, interpreting model results can be hard, and
sometimes even misleading, if you only look at the regression
coefficients. Instead, it is useful to estimate model-based means or
probabilities for the outcome. Ab absolutely easy way to make
interpretation easier is to use the <strong>modelbased</strong> package.
You just need to provide your predictors of interest, so called
<em>focal terms</em>.</p>
<p>Since we are interested in the interaction effect of coffee
consumption (treatment) on alertness depending on different times of the
day, we simply specify these two variables as <em>focal terms</em> in
the <code><a href="https://easystats.github.io/modelbased/reference/estimate_means.html" class="external-link">estimate_means()</a></code> function. This function calculates
predictions on the response scale of the regression model. For logistic
regression models, <em>predicted probabilities</em> are calculated.
These refer to the adjusted probabilities of the outcome (higher
alertness) depending on the predictor variables (treatment and
time).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://easystats.github.io/modelbased/" class="external-link">modelbased</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># predicted probabilities</span></span>
<span><span class="va">predictions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://easystats.github.io/modelbased/reference/estimate_means.html" class="external-link">estimate_means</a></span><span class="op">(</span><span class="va">model</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"time"</span>, <span class="st">"treatment"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">predictions</span></span>
<span><span class="co">#&gt; Estimated Marginal Means</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; time      | treatment | Probability |       95% CI</span></span>
<span><span class="co">#&gt; --------------------------------------------------</span></span>
<span><span class="co">#&gt; morning   | coffee    |        0.50 | [0.29, 0.71]</span></span>
<span><span class="co">#&gt; noon      | coffee    |        0.35 | [0.18, 0.57]</span></span>
<span><span class="co">#&gt; afternoon | coffee    |        0.75 | [0.52, 0.89]</span></span>
<span><span class="co">#&gt; morning   | control   |        0.25 | [0.11, 0.48]</span></span>
<span><span class="co">#&gt; noon      | control   |        0.65 | [0.43, 0.82]</span></span>
<span><span class="co">#&gt; afternoon | control   |        0.50 | [0.29, 0.71]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Variable predicted: alertness</span></span>
<span><span class="co">#&gt; Predictors modulated: time, treatment</span></span>
<span><span class="co">#&gt; Predictions are on the response-scale.</span></span></code></pre></div>
<p>We now see that high <code>alertness</code> was most likely for the
<code>coffee</code> group in the <code>afternoon</code> time (about 75%
probability of high alertness for the afternoon-coffee group).</p>
<p>We can also visualize these results, using the <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>
method. In short, this will give us a visual interpretation of the
model.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># plot predicted probabilities</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">predictions</span><span class="op">)</span></span></code></pre></div>
<p><img src="workflow_easystats_files/figure-html/unnamed-chunk-6-1.png" width="80%" height="80%"></p>
<p>We can also see that the predicted probabilities of alertness are
higher for participants who consumed coffee compared to those who did
not, but only in the morning and in the afternoon. Furthermore, we see
differences between the <em>coffee</em> and the <em>control</em> group
at each time point - but are these differences statistically
significant?</p>
</div>
<div class="section level2">
<h2 id="pairwise-comparisons---testing-the-differences">Pairwise comparisons - testing the differences<a class="anchor" aria-label="anchor" href="#pairwise-comparisons---testing-the-differences"></a>
</h2>
<p>To check this, we finally use the <code><a href="https://easystats.github.io/modelbased/reference/estimate_contrasts.html" class="external-link">estimate_contrasts()</a></code>
function to perform pairwise comparisons of the predicted probabilities.
This function needs to know the variables that should be compared, or
<em>contrasted</em>. In a first step, we want to compare all levels of
the variables involved in our interaction term (our <em>focal terms</em>
from above).</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># pairwise comparisons - quite long table</span></span>
<span><span class="fu"><a href="https://easystats.github.io/modelbased/reference/estimate_contrasts.html" class="external-link">estimate_contrasts</a></span><span class="op">(</span><span class="va">model</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"time"</span>, <span class="st">"treatment"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Marginal Contrasts Analysis</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Level1             | Level2            | Difference |   SE |        95% CI |        z |      p</span></span>
<span><span class="co">#&gt; ----------------------------------------------------------------------------------------------</span></span>
<span><span class="co">#&gt; morning, control   | morning, coffee   |      -0.25 | 0.15 | [-0.54, 0.04] |    -1.69 |  0.091</span></span>
<span><span class="co">#&gt; noon, coffee       | morning, coffee   |      -0.15 | 0.15 | [-0.45, 0.15] |    -0.97 |  0.332</span></span>
<span><span class="co">#&gt; noon, control      | morning, coffee   |       0.15 | 0.15 | [-0.15, 0.45] |     0.97 |  0.332</span></span>
<span><span class="co">#&gt; afternoon, coffee  | morning, coffee   |       0.25 | 0.15 | [-0.04, 0.54] |     1.69 |  0.091</span></span>
<span><span class="co">#&gt; afternoon, control | morning, coffee   |   1.11e-16 | 0.16 | [-0.31, 0.31] | 7.02e-16 | &gt; .999</span></span>
<span><span class="co">#&gt; noon, coffee       | morning, control  |       0.10 | 0.14 | [-0.18, 0.38] |     0.69 |  0.488</span></span>
<span><span class="co">#&gt; noon, control      | morning, control  |       0.40 | 0.14 | [ 0.12, 0.68] |     2.78 |  0.005</span></span>
<span><span class="co">#&gt; afternoon, coffee  | morning, control  |       0.50 | 0.14 | [ 0.23, 0.77] |     3.65 | &lt; .001</span></span>
<span><span class="co">#&gt; afternoon, control | morning, control  |       0.25 | 0.15 | [-0.04, 0.54] |     1.69 |  0.091</span></span>
<span><span class="co">#&gt; noon, control      | noon, coffee      |       0.30 | 0.15 | [ 0.00, 0.60] |     1.99 |  0.047</span></span>
<span><span class="co">#&gt; afternoon, coffee  | noon, coffee      |       0.40 | 0.14 | [ 0.12, 0.68] |     2.78 |  0.005</span></span>
<span><span class="co">#&gt; afternoon, control | noon, coffee      |       0.15 | 0.15 | [-0.15, 0.45] |     0.97 |  0.332</span></span>
<span><span class="co">#&gt; afternoon, coffee  | noon, control     |       0.10 | 0.14 | [-0.18, 0.38] |     0.69 |  0.488</span></span>
<span><span class="co">#&gt; afternoon, control | noon, control     |      -0.15 | 0.15 | [-0.45, 0.15] |    -0.97 |  0.332</span></span>
<span><span class="co">#&gt; afternoon, control | afternoon, coffee |      -0.25 | 0.15 | [-0.54, 0.04] |    -1.69 |  0.091</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Variable predicted: alertness</span></span>
<span><span class="co">#&gt; Predictors contrasted: time, treatment</span></span>
<span><span class="co">#&gt; p-values are uncorrected.</span></span>
<span><span class="co">#&gt; Contrasts are on the response-scale (in %-points).</span></span></code></pre></div>
<p>In the above output, we see all possible pairwise comparisons of the
predicted probabilities. The table is quite long, but we can also group
the comparisons, e.g. by the variable <em>time</em>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># group comparisons by "time"</span></span>
<span><span class="fu"><a href="https://easystats.github.io/modelbased/reference/estimate_contrasts.html" class="external-link">estimate_contrasts</a></span><span class="op">(</span><span class="va">model</span>, <span class="st">"treatment"</span>, by <span class="op">=</span> <span class="st">"time"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Marginal Contrasts Analysis</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Level1  | Level2 | time      | Difference |   SE |        95% CI |     z |     p</span></span>
<span><span class="co">#&gt; --------------------------------------------------------------------------------</span></span>
<span><span class="co">#&gt; control | coffee | morning   |      -0.25 | 0.15 | [-0.54, 0.04] | -1.69 | 0.091</span></span>
<span><span class="co">#&gt; control | coffee | noon      |       0.30 | 0.15 | [ 0.00, 0.60] |  1.99 | 0.047</span></span>
<span><span class="co">#&gt; control | coffee | afternoon |      -0.25 | 0.15 | [-0.54, 0.04] | -1.69 | 0.091</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Variable predicted: alertness</span></span>
<span><span class="co">#&gt; Predictors contrasted: treatment</span></span>
<span><span class="co">#&gt; p-values are uncorrected.</span></span>
<span><span class="co">#&gt; Contrasts are on the response-scale (in %-points).</span></span></code></pre></div>
<p>The output shows that the differences between the <em>coffee</em> and
the <em>control</em> group are statistically significant only in the
noon time.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/strengejacke" class="external-link">Daniel Lüdecke</a>, <a href="https://dominiquemakowski.github.io/" class="external-link">Dominique Makowski</a>, <a href="https://home.msbstats.info/" class="external-link">Mattan S. Ben-Shachar</a>, <a href="https://sites.google.com/site/indrajeetspatilmorality/" class="external-link">Indrajeet Patil</a>, <a href="https://wiernik.org/" class="external-link">Brenton M. Wiernik</a>, <a href="https://www.etiennebacher.com/" class="external-link">Etienne Bacher</a>, <a href="https://remi-theriault.com/" class="external-link">Rémi Thériault</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.9000.</p>
</div>

    </footer>
</div>





  </body>
</html>
