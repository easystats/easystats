<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="easystats">
<title>Contributing to R Packages: A Tutorial • easystats</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Contributing to R Packages: A Tutorial">
<meta property="og:description" content="easystats">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">easystats</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/citation.html">Citing 'easystats'</a>
    <a class="dropdown-item" href="../articles/conventions.html">Coding style conventions</a>
    <a class="dropdown-item" href="../articles/list_of_functions.html">List of functions</a>
    <a class="dropdown-item" href="../articles/programming.html">Contributing to R Packages: A Tutorial</a>
    <a class="dropdown-item" href="../articles/resources.html">Learning resources</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="http://twitter.com/easystats4u" aria-label="Twitter">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/easystats/easystats/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="programming_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Contributing to R Packages: A Tutorial</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/easystats/easystats/blob/HEAD/vignettes/programming.Rmd" class="external-link"><code>vignettes/programming.Rmd</code></a></small>
      <div class="d-none name"><code>programming.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="r-programming">R Programming<a class="anchor" aria-label="anchor" href="#r-programming"></a>
</h2>
<p>Programming in R is actually quite simple, yet powerful compared to other languages like Python or such. Part of this power comes from the flexibility of how R works.</p>
<p>Hopefully, by the end of this short crash-course, you’ll have enough understanding of R programming to be able to understand how packages are made and then, contribute.</p>
<div class="section level3">
<h3 id="basic-elements">Basic Elements<a class="anchor" aria-label="anchor" href="#basic-elements"></a>
</h3>
<div class="section level4">
<h4 id="assigning-and-commenting">Assigning and Commenting<a class="anchor" aria-label="anchor" href="#assigning-and-commenting"></a>
</h4>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="co"># Generate n=1 random number</span>
<span class="va">x</span> <span class="co"># Display it</span></code></pre></div>
<pre><code>&gt; [1] -0.083</code></pre>
<p>Note here that we generated a random number between 0 and 1 using the <code><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm()</a></code> <strong>function</strong> (specifying that we want only one number using the <code>n</code> <strong>argument</strong>), that we <strong>stored</strong> it inside a <strong>variable</strong> called <code>x</code> (using the <strong>assignment</strong> operator <code>&lt;-</code>, <em>kinda</em> similar to <code>=</code> in other languages). We also <strong>commented</strong> the steps using the hash symbol <strong>#</strong>, so that we can write things to help us remember / explain the steps.</p>
</div>
<div class="section level4">
<h4 id="if-else">If / Else<a class="anchor" aria-label="anchor" href="#if-else"></a>
</h4>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>

<span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"Yes!"</span><span class="op">)</span>
<span class="op">}</span> <span class="kw">else</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"No :("</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<pre><code>&gt; [1] "Yes!"</code></pre>
<p>Note that the <strong>condition</strong> (here <code>x &gt; 0.5</code>) must be place between round brackets, whereas the code chunks for the <code>if</code>s and <code>else</code>s are between curly brackets <code><a href="https://rdrr.io/r/base/Paren.html" class="external-link">{}</a></code>. This “grammar” is important for R to understand what you want to do.</p>
</div>
</div>
<div class="section level3">
<h3 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a>
</h3>
<p>Similarly to the majority of programming languages, one can define <strong><em>functions</em></strong> in R. These are like little factories that take some input, do something, and then return some output.</p>
<div class="section level4">
<h4 id="simple-function">Simple Function<a class="anchor" aria-label="anchor" href="#simple-function"></a>
</h4>
<p>A function can be defined like this:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">f</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">x</span> <span class="op">+</span> <span class="fl">1</span>
<span class="op">}</span>

<span class="fu">f</span><span class="op">(</span><span class="fl">3</span><span class="op">)</span></code></pre></div>
<pre><code>&gt; [1] 4</code></pre>
<p>We named that function <code>f()</code>, but we could have written anything (as long as there is no spaces), such as <code>my_new_function()</code>. Then, there is a <strong>place-holder</strong> for the input, that we named <em>x</em> (again, it could have been named anything). The last <strong>very</strong> important thing to know is that what is returned by the function is the <em>last object</em> in the function, in this case <code>x + 1</code>.</p>
<p>So based on that, you understand that the function we defined above is equivalent to this one:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_function</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">first_argument</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">output</span> <span class="op">&lt;-</span> <span class="va">first_argument</span> <span class="op">+</span> <span class="fl">1</span> <span class="co"># Make addition</span>
  <span class="va">output</span> <span class="co"># Return the stuff</span>
<span class="op">}</span>

<span class="fu">my_function</span><span class="op">(</span><span class="fl">3</span><span class="op">)</span></code></pre></div>
<pre><code>&gt; [1] 4</code></pre>
<p>Notice the last line of the function, which just contains the final object we want to return (named “output”). Finally, adding <strong>comments</strong> is super useful to explain and remember what each step does.</p>
</div>
<div class="section level4">
<h4 id="multiple-arguments">Multiple Arguments<a class="anchor" aria-label="anchor" href="#multiple-arguments"></a>
</h4>
<p>A function often has multiple <strong>arguments</strong> (the “input” variables). This is used because a function is like a bubble, inside it (aka in the <em>local scope</em>) there is no knowledge out the “outside world” (called the <em>global scope</em>). So anything we want to know “from the outside” (for instance, things with which a user can interact) must be entered as arguments.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">f2</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">a</span>, <span class="va">b</span>, <span class="va">should_we_add</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">y</span> <span class="op">&lt;-</span> <span class="va">a</span> <span class="op">*</span> <span class="va">b</span>
  <span class="kw">if</span> <span class="op">(</span><span class="va">should_we_add</span> <span class="op">==</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">{</span>
    <span class="va">z</span> <span class="op">&lt;-</span> <span class="va">y</span> <span class="op">+</span> <span class="fl">3</span>
  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span>
    <span class="va">z</span> <span class="op">&lt;-</span> <span class="va">y</span> <span class="op">-</span> <span class="fl">3</span>
  <span class="op">}</span>
  <span class="va">z</span>
<span class="op">}</span>

<span class="fu">f2</span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<pre><code>&gt; [1] 9</code></pre>
<p>Here, the user must specify values for <code>a</code>, <code>b</code> and <code>should_we_add</code>. We added a <strong>conditional statement</strong> inside the function, so that different things are done if one of the argument (<code>should_we_add</code>) has a certain value (<code>TRUE</code> or <code>FALSE</code>).</p>
<p>However, most of the functions in R have <strong>default arguments</strong>, i.e., values associated to the arguments, that are changed <strong>only if the users specifies otherwise</strong>. So the function above could be written as follows:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">f2</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">a</span> <span class="op">=</span> <span class="fl">2</span>, <span class="va">b</span> <span class="op">=</span> <span class="fl">3</span>, <span class="va">should_we_add</span> <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">y</span> <span class="op">&lt;-</span> <span class="va">a</span> <span class="op">*</span> <span class="va">b</span>
  <span class="kw">if</span> <span class="op">(</span><span class="va">should_we_add</span> <span class="op">==</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">{</span>
    <span class="va">z</span> <span class="op">&lt;-</span> <span class="va">y</span> <span class="op">+</span> <span class="fl">3</span>
  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span>
    <span class="va">z</span> <span class="op">&lt;-</span> <span class="va">y</span> <span class="op">-</span> <span class="fl">3</span>
  <span class="op">}</span>
  <span class="va">z</span>
<span class="op">}</span>

<span class="fu">f2</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code>&gt; [1] 9</code></pre>
<p>The only difference is that in the <strong>function definition</strong> (the round brackets in which we write the arguments), each argument has some default value. That means that if the user don’t manually specifies the argument, it will use the default ones. That’s why the output of <code>f2()</code> (without anything) is the same as <code>f2(2, 3, TRUE)</code>.</p>
</div>
</div>
<div class="section level3">
<h3 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a>
</h3>
<p>Have you ever wonder how it’s possible that the <strong>same functions</strong>, for example <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code>, can be applied to all kinds of different objects? And give different outputs? It’s because they are not functions… <em>tumtumtum</em> but <strong>methods</strong>.</p>
<p>You can see methods as functions that only run <strong>if the first argument is of a particular class</strong>. What is a <strong>class</strong>, you might wonder? Let’s see.</p>
<div class="section level4">
<h4 id="attributes">Attributes<a class="anchor" aria-label="anchor" href="#attributes"></a>
</h4>
<p>In a nutshell, in R, things are not what they look like. This means that objects are often more that “what is shown” (we’ll come back to the what-is-shown later). Let’s load the <code>iris</code> dataset for example and examine it. It is a <strong>dataframe</strong>, which gets displayed as follows:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">iris</span>
<span class="va">data</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">Sepal.Length</th>
<th align="right">Sepal.Width</th>
<th align="right">Petal.Length</th>
<th align="right">Petal.Width</th>
<th align="left">Species</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">5.1</td>
<td align="right">3.5</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="even">
<td align="right">4.9</td>
<td align="right">3.0</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="odd">
<td align="right">4.7</td>
<td align="right">3.2</td>
<td align="right">1.3</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="even">
<td align="right">4.6</td>
<td align="right">3.1</td>
<td align="right">1.5</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="odd">
<td align="right">5.0</td>
<td align="right">3.6</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="even">
<td align="right">5.4</td>
<td align="right">3.9</td>
<td align="right">1.7</td>
<td align="right">0.4</td>
<td align="left">setosa</td>
</tr>
</tbody>
</table>
<p>This object has information attached to it, which is not displayed. This “additional” information is stored as <strong>attributes</strong>, which be retrieved as follows:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/attributes.html" class="external-link">attributes</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></code></pre></div>
<pre><code>&gt; $names
&gt; [1] "Sepal.Length" "Sepal.Width"  "Petal.Length" "Petal.Width"  "Species"     
&gt; 
&gt; $class
&gt; [1] "data.frame"
&gt; 
&gt; $row.names
&gt;   [1]   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18
&gt;  [19]  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34  35  36
&gt;  [37]  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51  52  53  54
&gt;  [55]  55  56  57  58  59  60  61  62  63  64  65  66  67  68  69  70  71  72
&gt;  [73]  73  74  75  76  77  78  79  80  81  82  83  84  85  86  87  88  89  90
&gt;  [91]  91  92  93  94  95  96  97  98  99 100 101 102 103 104 105 106 107 108
&gt; [109] 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126
&gt; [127] 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144
&gt; [145] 145 146 147 148 149 150</code></pre>
<p>These attributes take the form of a <strong>list</strong> with elements, like column names, row names and… a <strong>class</strong> name. In R, the class of an object corresponds to what is written as a <strong>class</strong> attribute. We can retrieve it directly by running the <code><a href="https://rdrr.io/r/base/class.html" class="external-link">class()</a></code> function.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></code></pre></div>
<pre><code>&gt; [1] "data.frame"</code></pre>
<p>We could modify (i.e., <strong>overwrite</strong>) this class attribute, and let’s see what happens when we try to display it:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"new_class"</span>
<span class="va">data</span></code></pre></div>
<pre><code>&gt; $Sepal.Length
&gt;   [1] 5.1 4.9 4.7 4.6 5.0 5.4 4.6 5.0 4.4 4.9 5.4 4.8 4.8 4.3 5.8 5.7 5.4 5.1
&gt;  [19] 5.7 5.1 5.4 5.1 4.6 5.1 4.8 5.0 5.0 5.2 5.2 4.7 4.8 5.4 5.2 5.5 4.9 5.0
&gt;  [37] 5.5 4.9 4.4 5.1 5.0 4.5 4.4 5.0 5.1 4.8 5.1 4.6 5.3 5.0 7.0 6.4 6.9 5.5
&gt;  [55] 6.5 5.7 6.3 4.9 6.6 5.2 5.0 5.9 6.0 6.1 5.6 6.7 5.6 5.8 6.2 5.6 5.9 6.1
&gt;  [73] 6.3 6.1 6.4 6.6 6.8 6.7 6.0 5.7 5.5 5.5 5.8 6.0 5.4 6.0 6.7 6.3 5.6 5.5
&gt;  [91] 5.5 6.1 5.8 5.0 5.6 5.7 5.7 6.2 5.1 5.7 6.3 5.8 7.1 6.3 6.5 7.6 4.9 7.3
&gt; [109] 6.7 7.2 6.5 6.4 6.8 5.7 5.8 6.4 6.5 7.7 7.7 6.0 6.9 5.6 7.7 6.3 6.7 7.2
&gt; [127] 6.2 6.1 6.4 7.2 7.4 7.9 6.4 6.3 6.1 7.7 6.3 6.4 6.0 6.9 6.7 6.9 5.8 6.8
&gt; [145] 6.7 6.7 6.3 6.5 6.2 5.9
&gt; 
&gt; $Sepal.Width
&gt;   [1] 3.5 3.0 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 3.7 3.4 3.0 3.0 4.0 4.4 3.9 3.5
&gt;  [19] 3.8 3.8 3.4 3.7 3.6 3.3 3.4 3.0 3.4 3.5 3.4 3.2 3.1 3.4 4.1 4.2 3.1 3.2
&gt;  [37] 3.5 3.6 3.0 3.4 3.5 2.3 3.2 3.5 3.8 3.0 3.8 3.2 3.7 3.3 3.2 3.2 3.1 2.3
&gt;  [55] 2.8 2.8 3.3 2.4 2.9 2.7 2.0 3.0 2.2 2.9 2.9 3.1 3.0 2.7 2.2 2.5 3.2 2.8
&gt;  [73] 2.5 2.8 2.9 3.0 2.8 3.0 2.9 2.6 2.4 2.4 2.7 2.7 3.0 3.4 3.1 2.3 3.0 2.5
&gt;  [91] 2.6 3.0 2.6 2.3 2.7 3.0 2.9 2.9 2.5 2.8 3.3 2.7 3.0 2.9 3.0 3.0 2.5 2.9
&gt; [109] 2.5 3.6 3.2 2.7 3.0 2.5 2.8 3.2 3.0 3.8 2.6 2.2 3.2 2.8 2.8 2.7 3.3 3.2
&gt; [127] 2.8 3.0 2.8 3.0 2.8 3.8 2.8 2.8 2.6 3.0 3.4 3.1 3.0 3.1 3.1 3.1 2.7 3.2
&gt; [145] 3.3 3.0 2.5 3.0 3.4 3.0
&gt; 
&gt; $Petal.Length
&gt;   [1] 1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 1.5 1.6 1.4 1.1 1.2 1.5 1.3 1.4
&gt;  [19] 1.7 1.5 1.7 1.5 1.0 1.7 1.9 1.6 1.6 1.5 1.4 1.6 1.6 1.5 1.5 1.4 1.5 1.2
&gt;  [37] 1.3 1.4 1.3 1.5 1.3 1.3 1.3 1.6 1.9 1.4 1.6 1.4 1.5 1.4 4.7 4.5 4.9 4.0
&gt;  [55] 4.6 4.5 4.7 3.3 4.6 3.9 3.5 4.2 4.0 4.7 3.6 4.4 4.5 4.1 4.5 3.9 4.8 4.0
&gt;  [73] 4.9 4.7 4.3 4.4 4.8 5.0 4.5 3.5 3.8 3.7 3.9 5.1 4.5 4.5 4.7 4.4 4.1 4.0
&gt;  [91] 4.4 4.6 4.0 3.3 4.2 4.2 4.2 4.3 3.0 4.1 6.0 5.1 5.9 5.6 5.8 6.6 4.5 6.3
&gt; [109] 5.8 6.1 5.1 5.3 5.5 5.0 5.1 5.3 5.5 6.7 6.9 5.0 5.7 4.9 6.7 4.9 5.7 6.0
&gt; [127] 4.8 4.9 5.6 5.8 6.1 6.4 5.6 5.1 5.6 6.1 5.6 5.5 4.8 5.4 5.6 5.1 5.1 5.9
&gt; [145] 5.7 5.2 5.0 5.2 5.4 5.1
&gt; 
&gt; $Petal.Width
&gt;   [1] 0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 0.2 0.2 0.1 0.1 0.2 0.4 0.4 0.3
&gt;  [19] 0.3 0.3 0.2 0.4 0.2 0.5 0.2 0.2 0.4 0.2 0.2 0.2 0.2 0.4 0.1 0.2 0.2 0.2
&gt;  [37] 0.2 0.1 0.2 0.2 0.3 0.3 0.2 0.6 0.4 0.3 0.2 0.2 0.2 0.2 1.4 1.5 1.5 1.3
&gt;  [55] 1.5 1.3 1.6 1.0 1.3 1.4 1.0 1.5 1.0 1.4 1.3 1.4 1.5 1.0 1.5 1.1 1.8 1.3
&gt;  [73] 1.5 1.2 1.3 1.4 1.4 1.7 1.5 1.0 1.1 1.0 1.2 1.6 1.5 1.6 1.5 1.3 1.3 1.3
&gt;  [91] 1.2 1.4 1.2 1.0 1.3 1.2 1.3 1.3 1.1 1.3 2.5 1.9 2.1 1.8 2.2 2.1 1.7 1.8
&gt; [109] 1.8 2.5 2.0 1.9 2.1 2.0 2.4 2.3 1.8 2.2 2.3 1.5 2.3 2.0 2.0 1.8 2.1 1.8
&gt; [127] 1.8 1.8 2.1 1.6 1.9 2.0 2.2 1.5 1.4 2.3 2.4 1.8 1.8 2.1 2.4 2.3 1.9 2.3
&gt; [145] 2.5 2.3 1.9 2.0 2.3 1.8
&gt; 
&gt; $Species
&gt;   [1] setosa     setosa     setosa     setosa     setosa     setosa    
&gt;   [7] setosa     setosa     setosa     setosa     setosa     setosa    
&gt;  [13] setosa     setosa     setosa     setosa     setosa     setosa    
&gt;  [19] setosa     setosa     setosa     setosa     setosa     setosa    
&gt;  [25] setosa     setosa     setosa     setosa     setosa     setosa    
&gt;  [31] setosa     setosa     setosa     setosa     setosa     setosa    
&gt;  [37] setosa     setosa     setosa     setosa     setosa     setosa    
&gt;  [43] setosa     setosa     setosa     setosa     setosa     setosa    
&gt;  [49] setosa     setosa     versicolor versicolor versicolor versicolor
&gt;  [55] versicolor versicolor versicolor versicolor versicolor versicolor
&gt;  [61] versicolor versicolor versicolor versicolor versicolor versicolor
&gt;  [67] versicolor versicolor versicolor versicolor versicolor versicolor
&gt;  [73] versicolor versicolor versicolor versicolor versicolor versicolor
&gt;  [79] versicolor versicolor versicolor versicolor versicolor versicolor
&gt;  [85] versicolor versicolor versicolor versicolor versicolor versicolor
&gt;  [91] versicolor versicolor versicolor versicolor versicolor versicolor
&gt;  [97] versicolor versicolor versicolor versicolor virginica  virginica 
&gt; [103] virginica  virginica  virginica  virginica  virginica  virginica 
&gt; [109] virginica  virginica  virginica  virginica  virginica  virginica 
&gt; [115] virginica  virginica  virginica  virginica  virginica  virginica 
&gt; [121] virginica  virginica  virginica  virginica  virginica  virginica 
&gt; [127] virginica  virginica  virginica  virginica  virginica  virginica 
&gt; [133] virginica  virginica  virginica  virginica  virginica  virginica 
&gt; [139] virginica  virginica  virginica  virginica  virginica  virginica 
&gt; [145] virginica  virginica  virginica  virginica  virginica  virginica 
&gt; Levels: setosa versicolor virginica
&gt; 
&gt; attr(,"class")
&gt; [1] "new_class"
&gt; attr(,"row.names")
&gt;   [1]   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18
&gt;  [19]  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34  35  36
&gt;  [37]  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51  52  53  54
&gt;  [55]  55  56  57  58  59  60  61  62  63  64  65  66  67  68  69  70  71  72
&gt;  [73]  73  74  75  76  77  78  79  80  81  82  83  84  85  86  87  88  89  90
&gt;  [91]  91  92  93  94  95  96  97  98  99 100 101 102 103 104 105 106 107 108
&gt; [109] 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126
&gt; [127] 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144
&gt; [145] 145 146 147 148 149 150</code></pre>
<p>It gets displayed all weirdly! This is because “displaying” an object in R… actually runs a method (the <strong>print</strong> method), and this method is not defined for our new class. So it is showed in its purest “raw” form. For now, let us remember that we don’t usually <strong>replace</strong> the class, simply add (<strong>append</strong>) a new one to the list, like <code>c("new_class", other_classes)</code>. That’s because objects can have any number of classes.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"new_class"</span>, <span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></code></pre></div>
<pre><code>&gt; [1] "new_class"  "data.frame"</code></pre>
<p>We can see that the class is now a list (more specifically, a <em>vector</em>) of classes. The object is <em>both</em> an object of class <code>"new_class"</code> and an object of class “data.frame”. If a method is not found for the first class, it will try for the second. Let’s see how it gets displayed now:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">Sepal.Length</th>
<th align="right">Sepal.Width</th>
<th align="right">Petal.Length</th>
<th align="right">Petal.Width</th>
<th align="left">Species</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">5.1</td>
<td align="right">3.5</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="even">
<td align="right">4.9</td>
<td align="right">3.0</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="odd">
<td align="right">4.7</td>
<td align="right">3.2</td>
<td align="right">1.3</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="even">
<td align="right">4.6</td>
<td align="right">3.1</td>
<td align="right">1.5</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="odd">
<td align="right">5.0</td>
<td align="right">3.6</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="even">
<td align="right">5.4</td>
<td align="right">3.9</td>
<td align="right">1.7</td>
<td align="right">0.4</td>
<td align="left">setosa</td>
</tr>
</tbody>
</table>
<p>Now, it gets displayed correctly again, because it is also a dataframe, so it can run the <strong>print</strong> method for dataframes (part of R itself).</p>
</div>
<div class="section level4">
<h4 id="define-objects-with-classes">Define objects with classes<a class="anchor" aria-label="anchor" href="#define-objects-with-classes"></a>
</h4>
<p>Let’s assemble everything we know and create objects with different classes:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">f_a</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">output</span> <span class="op">&lt;-</span> <span class="va">x</span> <span class="op">*</span> <span class="fl">2</span>
  <span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">output</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"class_a"</span>, <span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">output</span><span class="op">)</span><span class="op">)</span>
  <span class="va">output</span>
<span class="op">}</span>
<span class="fu">f_a</span><span class="op">(</span><span class="fl">3</span><span class="op">)</span></code></pre></div>
<pre><code>&gt; [1] 6
&gt; attr(,"class")
&gt; [1] "class_a" "numeric"</code></pre>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">f_b</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">output</span> <span class="op">&lt;-</span> <span class="va">x</span> <span class="op">*</span> <span class="fl">3</span>
  <span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">output</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"class_b"</span>, <span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">output</span><span class="op">)</span><span class="op">)</span>
  <span class="va">output</span>
<span class="op">}</span>
<span class="fu">f_b</span><span class="op">(</span><span class="fl">3</span><span class="op">)</span></code></pre></div>
<pre><code>&gt; [1] 9
&gt; attr(,"class")
&gt; [1] "class_b" "numeric"</code></pre>
<p>Although having one different class, both objects remain of the ‘numeric’ class. This means that any method that works for ‘numeric’ will work for these objects, such as the square root:</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fu">f_b</span><span class="op">(</span><span class="fl">3</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>&gt; [1] 3
&gt; attr(,"class")
&gt; [1] "class_b" "numeric"</code></pre>
</div>
<div class="section level4">
<h4 id="defining-methods">Defining Methods<a class="anchor" aria-label="anchor" href="#defining-methods"></a>
</h4>
<p>Methods are pretty much defined like functions, with a twist. First, the name of the method must be added as a method using the <code><a href="https://rdrr.io/r/base/UseMethod.html" class="external-link">UseMethod()</a></code> function, which will tell R that this is a method.</p>
<p>Then, the methods are defined using the <code>name_of_method.name_of_class</code> pattern. You write the name of the class after a dot following the name of the method. This tells R <strong>which function to use</strong> depending on the class of the first argument.</p>
<p>A method for our two classes is defined as follows:</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">new_method</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span>
  <span class="kw"><a href="https://rdrr.io/r/base/UseMethod.html" class="external-link">UseMethod</a></span><span class="op">(</span><span class="st">"new_method"</span><span class="op">)</span>
<span class="op">}</span>

<span class="va">new_method.class_a</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">text</span> <span class="op">&lt;-</span> <span class="st">"This is an object of class A"</span>
  <span class="va">text</span>
<span class="op">}</span>

<span class="va">new_method.class_b</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">text</span> <span class="op">&lt;-</span> <span class="st">"This is an object of class B"</span>
  <span class="va">text</span>
<span class="op">}</span></code></pre></div>
<p>We can now run <code>new_method()</code> on our two functions and see if it does something different.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">new_method</span><span class="op">(</span><span class="fu">f_a</span><span class="op">(</span><span class="fl">3</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>&gt; [1] "This is an object of class A"</code></pre>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">new_method</span><span class="op">(</span><span class="fu">f_b</span><span class="op">(</span><span class="fl">3</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>&gt; [1] "This is an object of class B"</code></pre>
<p><img src="https://media.giphy.com/media/12NUbkX6p4xOO4/giphy.gif"></p>
<p>And that’s about it. That’s how the R ecosystem is made! Some packages define mostly new classes, like statistical models and such, and other packages (like <strong>easystats</strong> or <strong>broom</strong>) provide new methods to interact with these objects.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="the-structure-of-r-packages">The Structure of R Packages<a class="anchor" aria-label="anchor" href="#the-structure-of-r-packages"></a>
</h2>
<p>TODO.</p>
</div>
<div class="section level2">
<h2 id="contributing-on-github">Contributing on GitHub<a class="anchor" aria-label="anchor" href="#contributing-on-github"></a>
</h2>
<p>TODO.</p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://github.com/strengejacke" class="external-link">Daniel Lüdecke</a>, <a href="https://dominiquemakowski.github.io/" class="external-link">Dominique Makowski</a>, <a href="https://github.com/mattansb" class="external-link">Mattan S. Ben-Shachar</a>, <a href="https://sites.google.com/site/indrajeetspatilmorality/" class="external-link">Indrajeet Patil</a>, <a href="https://wiernik.org/" class="external-link">Brenton M. Wiernik</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.9000.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
