<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="easystats">
<title>Analytic workflow: Assessing model fit • easystats</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet">
<link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Roboto_Slab-0.4.9/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Analytic workflow: Assessing model fit">
<meta property="og:description" content="easystats">
<meta property="og:image" content="https://easystats.github.io/easystats/reference/figures/card.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@easystats4u">
<meta name="twitter:site" content="@easystats4u">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">easystats</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.1.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html" aria-label="Reference">
    <span class="fa fa fa fa-file-code"></span>
     
    Reference
  </a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../articles/index.html" aria-label="Articles">
    <span class="fa fa fa fa-book-reader"></span>
     
    Articles
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html" aria-label="News">
    <span class="fa fa fa fa-newspaper"></span>
     
    News
  </a>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--easystats" aria-label="easystats">
    <span class="fab fa fab fa-r-project"></span>
     
    easystats
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--easystats">
    <a class="external-link dropdown-item" href="https://easystats.github.io/bayestestR/">bayestestR</a>
    <a class="external-link dropdown-item" href="https://easystats.github.io/correlation/">correlation</a>
    <a class="external-link dropdown-item" href="https://easystats.github.io/datawizard/">datawizard</a>
    <a class="dropdown-item" href="https://easystats.github.io/easystats/">easystats</a>
    <a class="external-link dropdown-item" href="https://easystats.github.io/effectsize/">effectsize</a>
    <a class="external-link dropdown-item" href="https://easystats.github.io/insight/">insight</a>
    <a class="external-link dropdown-item" href="https://easystats.github.io/modelbased/">modelbased</a>
    <a class="external-link dropdown-item" href="https://easystats.github.io/performance/">performance</a>
    <a class="external-link dropdown-item" href="https://easystats.github.io/parameters/">parameters</a>
    <a class="external-link dropdown-item" href="https://easystats.github.io/report/">report</a>
    <a class="external-link dropdown-item" href="https://easystats.github.io/see/">see</a>
  </div>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="http://twitter.com/easystats4u" aria-label="Twitter">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/easystats/easystats/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Analytic workflow: Assessing model fit</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/easystats/easystats/blob/HEAD/vignettes/workflow_performance.rmd" class="external-link"><code>vignettes/workflow_performance.rmd</code></a></small>
      <div class="d-none name"><code>workflow_performance.rmd</code></div>
    </div>

    
    
<p>This vignette shows how to use the <a href="https://easystats.github.io/performance" class="external-link"><em>performance</em>
package</a> to check the fit of a model, how to detect misspecification
and how to improve your model. The basic workflow of the
<em>performance</em> package can be summarized as follows:</p>
<ul>
<li>fit a regression model</li>
<li>check the model fit and assess model fit indices</li>
<li>if necessary, fit another model that could potentially improve the
fit</li>
<li>compare the model fit indices and perform statistical tests to
determine which model is the best fit</li>
</ul>
<p><img src="images/figure_performance_workflow.png" style="width:75.0%"></p>
<p>In the following, we will demonstrate this workflow using a model
with a count response variable. We will fit a Poisson regression model
to the Salamanders dataset from the <em>glmmTMB</em> package. The
dataset contains counts of salamanders in different sites, along with
information on the number of mines and the species of salamanders. We
will check the model fit and assess the model fit indices.</p>
<p>Problems that may arise with count response variables are <em>zero
inflation</em> and <em>overdispersion</em>. Zero inflation occurs when
there are more zeros in the data than expected under the Poisson
distribution. Overdispersion occurs when the variance of the data is
greater than the mean, which violates the assumption of equidispersion
in the Poisson distribution.</p>
<p>We will check for these problems and suggest ways to improve the
model fit, i.e. if necessary, we will fit another model that could
potentially improve the fit. Finally, we will compare the model fit
indices and perform statistical tests to determine which model is the
best fit.</p>
<div class="section level3">
<h3 id="fit-the-initial-model">Fit the initial model<a class="anchor" aria-label="anchor" href="#fit-the-initial-model"></a>
</h3>
<p>We start with a generalized mixed effects model, using a Poisson
distribution.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://easystats.github.io/performance/" class="external-link">performance</a></span><span class="op">)</span></span>
<span><span class="va">model1</span> <span class="op">&lt;-</span> <span class="fu">glmmTMB</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/glmmTMB/man/glmmTMB.html" class="external-link">glmmTMB</a></span><span class="op">(</span></span>
<span>  <span class="va">count</span> <span class="op">~</span> <span class="va">mined</span> <span class="op">+</span> <span class="va">spp</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span> <span class="op">|</span> <span class="va">site</span><span class="op">)</span>,</span>
<span>  family <span class="op">=</span> <span class="va">poisson</span>,</span>
<span>  data <span class="op">=</span> <span class="fu">glmmTMB</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/glmmTMB/man/Salamanders.html" class="external-link">Salamanders</a></span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>First, let us look at the summary of the model.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://easystats.github.io/parameters/" class="external-link">parameters</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://easystats.github.io/parameters/reference/model_parameters.html" class="external-link">model_parameters</a></span><span class="op">(</span><span class="va">model1</span><span class="op">)</span></span></code></pre></div>
<p>We see a lot of statistically significant estimates here. No matter,
which <a href="https://easystats.github.io/parameters/reference/p_function.html" class="external-link">philosophy</a>
you follow in terms of interpreting statistical test results, our
conclusions we draw from our regression models will be inaccurate if our
modeling assumptions are a poor fit for the situation. Hence, checking
model fit is essential.</p>
<p>In <em>performance</em>, we can conduct a comprehensive visual
inspection of our model fit using <code><a href="https://easystats.github.io/performance/reference/check_model.html" class="external-link">check_model()</a></code>. We won’t
go into details of all the plots here, but you can find more information
on all created diagnostic plots in the <a href="https://easystats.github.io/performance/articles/check_model.html" class="external-link">dedicated
vignette</a>.</p>
<p>For now, we want to focus on the <em>posterior predictive
checks</em>, <em>dispersion and zero-inflation</em> as well as the Q-Q
plot (<em>uniformity of residuals</em>).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://easystats.github.io/performance/reference/check_model.html" class="external-link">check_model</a></span><span class="op">(</span><span class="va">model1</span><span class="op">)</span></span></code></pre></div>
<p>Note that unlike <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>, which is a base R function to
create diagnostic plots, <code><a href="https://easystats.github.io/performance/reference/check_model.html" class="external-link">check_model()</a></code> relies on
<em>simulated residuals</em> for the Q-Q plot, which is more accurate
for non-Gaussian models. See <a href="https://easystats.github.io/performance/articles/simulate_residuals.html" class="external-link">this
vignette</a> and the documentation of <code><a href="https://easystats.github.io/performance/reference/simulate_residuals.html" class="external-link">simulate_residuals()</a></code>
for further details.</p>
<p>The above plot suggests that we may have issues with overdispersion
and/or zero-inflation. We can check for these problems using
<code><a href="https://easystats.github.io/performance/reference/check_overdispersion.html" class="external-link">check_overdispersion()</a></code> and
<code><a href="https://easystats.github.io/performance/reference/check_zeroinflation.html" class="external-link">check_zeroinflation()</a></code>, which will perform statistical tests
(based on simulated residuals). These tests can additionally be used
beyond the visual inspection.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://easystats.github.io/performance/reference/check_overdispersion.html" class="external-link">check_overdispersion</a></span><span class="op">(</span><span class="va">model1</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://easystats.github.io/performance/reference/check_zeroinflation.html" class="external-link">check_zeroinflation</a></span><span class="op">(</span><span class="va">model1</span><span class="op">)</span></span></code></pre></div>
<p>As we can see, our model seems to suffer both from overdispersion and
zero-inflation.</p>
</div>
<div class="section level3">
<h3 id="first-attempt-at-improving-the-model-fit">First attempt at improving the model fit<a class="anchor" aria-label="anchor" href="#first-attempt-at-improving-the-model-fit"></a>
</h3>
<p>We can try to improve the model fit by fitting a model with
zero-inflation component:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model2</span> <span class="op">&lt;-</span> <span class="fu">glmmTMB</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/glmmTMB/man/glmmTMB.html" class="external-link">glmmTMB</a></span><span class="op">(</span></span>
<span>  <span class="va">count</span> <span class="op">~</span> <span class="va">mined</span> <span class="op">+</span> <span class="va">spp</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span> <span class="op">|</span> <span class="va">site</span><span class="op">)</span>,</span>
<span>  ziformula <span class="op">=</span> <span class="op">~</span> <span class="va">mined</span> <span class="op">+</span> <span class="va">spp</span>,</span>
<span>  family <span class="op">=</span> <span class="va">poisson</span>,</span>
<span>  data <span class="op">=</span> <span class="fu">glmmTMB</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/glmmTMB/man/Salamanders.html" class="external-link">Salamanders</a></span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://easystats.github.io/performance/reference/check_model.html" class="external-link">check_model</a></span><span class="op">(</span><span class="va">model2</span><span class="op">)</span></span></code></pre></div>
<p>Looking at the above plots, the zero-inflation seems to be addressed
properly (see especially <em>posterior predictive checks</em> and
<em>uniformity of residuals</em>, the Q-Q plot). However, the
overdispersion still could be present. We can check for these problems
using <code><a href="https://easystats.github.io/performance/reference/check_overdispersion.html" class="external-link">check_overdispersion()</a></code> and
<code><a href="https://easystats.github.io/performance/reference/check_zeroinflation.html" class="external-link">check_zeroinflation()</a></code> again.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://easystats.github.io/performance/reference/check_overdispersion.html" class="external-link">check_overdispersion</a></span><span class="op">(</span><span class="va">model2</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://easystats.github.io/performance/reference/check_zeroinflation.html" class="external-link">check_zeroinflation</a></span><span class="op">(</span><span class="va">model2</span><span class="op">)</span></span></code></pre></div>
<p>Indeed, the overdispersion is still present.</p>
</div>
<div class="section level3">
<h3 id="second-attempt-at-improving-the-model-fit">Second attempt at improving the model fit<a class="anchor" aria-label="anchor" href="#second-attempt-at-improving-the-model-fit"></a>
</h3>
<p>We can try to address this issue by fitting a negative binomial model
instead of using a Poisson distribution.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model3</span> <span class="op">&lt;-</span> <span class="fu">glmmTMB</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/glmmTMB/man/glmmTMB.html" class="external-link">glmmTMB</a></span><span class="op">(</span></span>
<span>  <span class="va">count</span> <span class="op">~</span> <span class="va">mined</span> <span class="op">+</span> <span class="va">spp</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span> <span class="op">|</span> <span class="va">site</span><span class="op">)</span>,</span>
<span>  ziformula <span class="op">=</span> <span class="op">~</span> <span class="va">mined</span> <span class="op">+</span> <span class="va">spp</span>,</span>
<span>  family <span class="op">=</span> <span class="fu">glmmTMB</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/glmmTMB/man/nbinom2.html" class="external-link">nbinom1</a></span>,</span>
<span>  data <span class="op">=</span> <span class="fu">glmmTMB</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/glmmTMB/man/Salamanders.html" class="external-link">Salamanders</a></span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://easystats.github.io/performance/reference/check_model.html" class="external-link">check_model</a></span><span class="op">(</span><span class="va">model3</span><span class="op">)</span></span></code></pre></div>
<p>Now we see that the plot showing <em>misspecified dispersion and
zero-inflation</em> suggests that the overdispersion is better addressed
than before. Let us check again:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://easystats.github.io/performance/reference/check_overdispersion.html" class="external-link">check_overdispersion</a></span><span class="op">(</span><span class="va">model3</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://easystats.github.io/performance/reference/check_zeroinflation.html" class="external-link">check_zeroinflation</a></span><span class="op">(</span><span class="va">model3</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="comparing-model-fit-indices">Comparing model fit indices<a class="anchor" aria-label="anchor" href="#comparing-model-fit-indices"></a>
</h3>
<p>There are different model fit indices that can be used to compare
models. For our purpose, we rely on the Akaike Information Criterion
(AIC), the corrected Akaike Information Criterion (AICc), the Bayesian
Information Criterion (BIC), and the Proper Scoring Rules. We can
compare the models using <code><a href="https://easystats.github.io/performance/reference/compare_performance.html" class="external-link">compare_performance()</a></code> and
<code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://easystats.github.io/performance/reference/compare_performance.html" class="external-link">compare_performance</a></span><span class="op">(</span></span>
<span>  <span class="va">model1</span>, <span class="va">model2</span>, <span class="va">model3</span>,</span>
<span>  metrics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AIC"</span>, <span class="st">"AICc"</span>, <span class="st">"BIC"</span>, <span class="st">"SCORE"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">result</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span></code></pre></div>
<p>The weighted AIC and BIC range from 0 to 1, indicating better model
fit the closer the value is to 1. The AICc is a corrected version of the
AIC for small sample sizes. The Proper Scoring Rules range from -Inf to
0, with higher values (i.e. closer to 0) indicating better model
fit.</p>
<p>The above results suggest that indeed our third model is the best
fit.</p>
</div>
<div class="section level3">
<h3 id="statistical-tests-for-model-comparison">Statistical tests for model comparison<a class="anchor" aria-label="anchor" href="#statistical-tests-for-model-comparison"></a>
</h3>
<p>We can also perform statistical tests to determine which model is the
best fit using <code><a href="https://easystats.github.io/performance/reference/test_performance.html" class="external-link">test_performance()</a></code> or <code><a href="https://rdrr.io/r/stats/anova.html" class="external-link">anova()</a></code>.
<code><a href="https://easystats.github.io/performance/reference/test_performance.html" class="external-link">test_performance()</a></code> automatically selects an appropriate
test based on the model family. You can also call the different tests,
like <code><a href="https://easystats.github.io/performance/reference/test_performance.html" class="external-link">test_likelihoodratio()</a></code>, <code><a href="https://easystats.github.io/performance/reference/test_performance.html" class="external-link">test_bf()</a></code>,
<code><a href="https://easystats.github.io/performance/reference/test_performance.html" class="external-link">test_wald()</a></code> or <code><a href="https://easystats.github.io/performance/reference/test_performance.html" class="external-link">test_vuong()</a></code> directly.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://easystats.github.io/performance/reference/test_performance.html" class="external-link">test_performance</a></span><span class="op">(</span><span class="va">model1</span>, <span class="va">model2</span>, <span class="va">model3</span><span class="op">)</span></span></code></pre></div>
<p>We see, first, that <code><a href="https://easystats.github.io/performance/reference/test_performance.html" class="external-link">test_performance()</a></code> used the Bayes
factor (based on BIC comparison) to compare the models. And second, that
both the second and third model seem to be significantly better than the
first model.</p>
<p>Now we compare the second against the third model</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://easystats.github.io/performance/reference/test_performance.html" class="external-link">test_performance</a></span><span class="op">(</span><span class="va">model2</span>, <span class="va">model3</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://easystats.github.io/performance/reference/test_performance.html" class="external-link">test_likelihoodratio</a></span><span class="op">(</span><span class="va">model2</span>, <span class="va">model3</span><span class="op">)</span></span></code></pre></div>
<p>We see that both the Bayes factor and likelihood ratio test suggest
that the third model is significantly better than the second model.</p>
<p>What does this mean for our inference?</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://easystats.github.io/parameters/reference/model_parameters.html" class="external-link">model_parameters</a></span><span class="op">(</span><span class="va">model3</span><span class="op">)</span></span></code></pre></div>
<p>Obviously, although we might have found the best fitting model,
coefficients for the <em>zero-inflation</em> component of our model look
rather spurious. We have <em>very</em> high coefficients here. We still
might find a better distributional family for our model, and try
<code>nbinom2</code> now.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model4</span> <span class="op">&lt;-</span> <span class="fu">glmmTMB</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/glmmTMB/man/glmmTMB.html" class="external-link">glmmTMB</a></span><span class="op">(</span></span>
<span>  <span class="va">count</span> <span class="op">~</span> <span class="va">mined</span> <span class="op">+</span> <span class="va">spp</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span> <span class="op">|</span> <span class="va">site</span><span class="op">)</span>,</span>
<span>  ziformula <span class="op">=</span> <span class="op">~</span> <span class="va">mined</span> <span class="op">+</span> <span class="va">spp</span>,</span>
<span>  family <span class="op">=</span> <span class="fu">glmmTMB</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/glmmTMB/man/nbinom2.html" class="external-link">nbinom2</a></span>,</span>
<span>  data <span class="op">=</span> <span class="fu">glmmTMB</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/glmmTMB/man/Salamanders.html" class="external-link">Salamanders</a></span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://easystats.github.io/performance/reference/check_model.html" class="external-link">check_model</a></span><span class="op">(</span><span class="va">model4</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://easystats.github.io/performance/reference/check_overdispersion.html" class="external-link">check_overdispersion</a></span><span class="op">(</span><span class="va">model4</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://easystats.github.io/performance/reference/check_zeroinflation.html" class="external-link">check_zeroinflation</a></span><span class="op">(</span><span class="va">model4</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://easystats.github.io/performance/reference/test_performance.html" class="external-link">test_likelihoodratio</a></span><span class="op">(</span><span class="va">model3</span>, <span class="va">model4</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://easystats.github.io/parameters/reference/model_parameters.html" class="external-link">model_parameters</a></span><span class="op">(</span><span class="va">model4</span><span class="op">)</span></span></code></pre></div>
<p>Based on these results, we might even go with
<code>model4</code>.</p>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>Statistics is hard. It is not just about fitting a model, but also
about checking the model fit and improving the model. This also requires
domain knowledge to consider whether all relevant predictors are
included in the model (and whether all included predictors are
relevant!).</p>
<p>The <em>performance</em> package provides a comprehensive set of
tools to help you with this task. We have demonstrated how to use these
tools to check the fit of a model, detect misspecification, and improve
the model. We have also shown how to compare the model fit indices and
perform statistical tests to determine which model is the best fit. We
hope this vignette has been helpful in guiding you through this
process.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/strengejacke" class="external-link">Daniel Lüdecke</a>, <a href="https://dominiquemakowski.github.io/" class="external-link">Dominique Makowski</a>, <a href="https://home.msbstats.info/" class="external-link">Mattan S. Ben-Shachar</a>, <a href="https://sites.google.com/site/indrajeetspatilmorality/" class="external-link">Indrajeet Patil</a>, <a href="https://wiernik.org/" class="external-link">Brenton M. Wiernik</a>, <a href="https://www.etiennebacher.com/" class="external-link">Etienne Bacher</a>, <a href="https://remi-theriault.com/" class="external-link">Rémi Thériault</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.9000.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
